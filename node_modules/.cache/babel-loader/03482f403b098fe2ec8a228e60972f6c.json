{"ast":null,"code":"import { LOGOUT, SET_DASH_LOADING } from \"./ActionTypes\";\nimport JwtService from \"../../JwtService/JwtService\";\nimport { payloadTable, payloadBar, payloadPie } from \"../payload\";\nexport const getDashBoardData = (startDate, endDate) => {\n  return dispatch => {\n    let dateRange = {\n      startDate,\n      endDate\n    };\n    dispatch({\n      type: SET_DASH_LOADING\n    });\n    let tablePayload = { ...payloadTable,\n      chartObject: { ...payloadTable.chartObject,\n        requestParam: { ...payloadTable.chartObject.requestParam,\n          dateRange\n        }\n      }\n    };\n    let barPayload = { ...payloadBar,\n      chartObject: { ...payloadBar.chartObject,\n        requestParam: { ...payloadBar.chartObject.requestParam,\n          dateRange\n        }\n      }\n    };\n    let piePayload = { ...payloadPie,\n      chartObject: { ...payloadPie.chartObject,\n        requestParam: { ...payloadPie.chartObject.requestParam,\n          dateRange\n        }\n      }\n    };\n    let table = JwtService.post(\"/getData\", tablePayload);\n    let bar = JwtService.post(\"/getData\", barPayload);\n    let pie = JwtService.post(\"/getData\", piePayload);\n    Promise.all([table, bar, pie]).then(response => {\n      dispatch({\n        type: SET_DASHBOARD_DATA,\n        payload: response\n      });\n    }).catch(error => {\n      var _error$response;\n\n      if ((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) == 401) {\n        dispatch({\n          type: LOGOUT\n        });\n        displayError(\"Something Went Wrong! Login Again\", \"danger\");\n      } else {\n        console.log(\"error\", error);\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/home/rails/Desktop/sigmoid-assignment/src/Store/Action/DashDataAction.js"],"names":["LOGOUT","SET_DASH_LOADING","JwtService","payloadTable","payloadBar","payloadPie","getDashBoardData","startDate","endDate","dispatch","dateRange","type","tablePayload","chartObject","requestParam","barPayload","piePayload","table","post","bar","pie","Promise","all","then","response","SET_DASHBOARD_DATA","payload","catch","error","status","displayError","console","log"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,gBAAjB,QAAyC,eAAzC;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,UAAnC,QAAqD,YAArD;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAACC,SAAD,EAAYC,OAAZ,KAAwB;AACtD,SAAQC,QAAD,IAAc;AACnB,QAAIC,SAAS,GAAG;AACdH,MAAAA,SADc;AAEdC,MAAAA;AAFc,KAAhB;AAIAC,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,IAAI,EAAEV;AAAR,KAAD,CAAR;AACA,QAAIW,YAAY,GAAG,EACjB,GAAGT,YADc;AAEjBU,MAAAA,WAAW,EAAE,EACX,GAAGV,YAAY,CAACU,WADL;AAEXC,QAAAA,YAAY,EAAE,EACZ,GAAGX,YAAY,CAACU,WAAb,CAAyBC,YADhB;AAEZJ,UAAAA;AAFY;AAFH;AAFI,KAAnB;AAUA,QAAIK,UAAU,GAAG,EACf,GAAGX,UADY;AAEfS,MAAAA,WAAW,EAAE,EACX,GAAGT,UAAU,CAACS,WADH;AAEXC,QAAAA,YAAY,EAAE,EACZ,GAAGV,UAAU,CAACS,WAAX,CAAuBC,YADd;AAEZJ,UAAAA;AAFY;AAFH;AAFE,KAAjB;AAUA,QAAIM,UAAU,GAAG,EACf,GAAGX,UADY;AAEfQ,MAAAA,WAAW,EAAE,EACX,GAAGR,UAAU,CAACQ,WADH;AAEXC,QAAAA,YAAY,EAAE,EACZ,GAAGT,UAAU,CAACQ,WAAX,CAAuBC,YADd;AAEZJ,UAAAA;AAFY;AAFH;AAFE,KAAjB;AAUA,QAAIO,KAAK,GAAGf,UAAU,CAACgB,IAAX,CAAgB,UAAhB,EAA4BN,YAA5B,CAAZ;AACA,QAAIO,GAAG,GAAGjB,UAAU,CAACgB,IAAX,CAAgB,UAAhB,EAA4BH,UAA5B,CAAV;AACA,QAAIK,GAAG,GAAGlB,UAAU,CAACgB,IAAX,CAAgB,UAAhB,EAA4BF,UAA5B,CAAV;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,CAACL,KAAD,EAAQE,GAAR,EAAaC,GAAb,CAAZ,EACGG,IADH,CACSC,QAAD,IAAc;AAClBf,MAAAA,QAAQ,CAAC;AAAEE,QAAAA,IAAI,EAAEc,kBAAR;AAA4BC,QAAAA,OAAO,EAAEF;AAArC,OAAD,CAAR;AACD,KAHH,EAIGG,KAJH,CAIUC,KAAD,IAAW;AAAA;;AAChB,UAAI,CAAAA,KAAK,SAAL,IAAAA,KAAK,WAAL,+BAAAA,KAAK,CAAEJ,QAAP,oEAAiBK,MAAjB,KAA2B,GAA/B,EAAoC;AAClCpB,QAAAA,QAAQ,CAAC;AAAEE,UAAAA,IAAI,EAAEX;AAAR,SAAD,CAAR;AACA8B,QAAAA,YAAY,CAAC,mCAAD,EAAsC,QAAtC,CAAZ;AACD,OAHD,MAGO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,KAArB;AACD;AACF,KAXH;AAYD,GAnDD;AAoDD,CArDM","sourcesContent":["import { LOGOUT, SET_DASH_LOADING } from \"./ActionTypes\";\nimport JwtService from \"../../JwtService/JwtService\";\nimport { payloadTable, payloadBar, payloadPie } from \"../payload\";\n\nexport const getDashBoardData = (startDate, endDate) => {\n  return (dispatch) => {\n    let dateRange = {\n      startDate,\n      endDate,\n    };\n    dispatch({ type: SET_DASH_LOADING });\n    let tablePayload = {\n      ...payloadTable,\n      chartObject: {\n        ...payloadTable.chartObject,\n        requestParam: {\n          ...payloadTable.chartObject.requestParam,\n          dateRange,\n        },\n      },\n    };\n    let barPayload = {\n      ...payloadBar,\n      chartObject: {\n        ...payloadBar.chartObject,\n        requestParam: {\n          ...payloadBar.chartObject.requestParam,\n          dateRange,\n        },\n      },\n    };\n    let piePayload = {\n      ...payloadPie,\n      chartObject: {\n        ...payloadPie.chartObject,\n        requestParam: {\n          ...payloadPie.chartObject.requestParam,\n          dateRange,\n        },\n      },\n    };\n    let table = JwtService.post(\"/getData\", tablePayload);\n    let bar = JwtService.post(\"/getData\", barPayload);\n    let pie = JwtService.post(\"/getData\", piePayload);\n    Promise.all([table, bar, pie])\n      .then((response) => {\n        dispatch({ type: SET_DASHBOARD_DATA, payload: response });\n      })\n      .catch((error) => {\n        if (error?.response?.status == 401) {\n          dispatch({ type: LOGOUT });\n          displayError(\"Something Went Wrong! Login Again\", \"danger\");\n        } else {\n          console.log(\"error\", error);\n        }\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}