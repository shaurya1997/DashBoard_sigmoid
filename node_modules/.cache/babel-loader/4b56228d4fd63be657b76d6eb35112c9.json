{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { displayError, displaySuccess } from \"../../Helper\";\nimport { LOGIN_ERROR, SET_USER } from \"./ActionType\";\nimport { useNavigate } from \"react-router-dom\";\nexport const loginUser = (email, password, rememberMe) => {\n  _s();\n\n  const navigate = useNavigate();\n  return dispatch => {\n    axios.post(\"https://sigviewauth.sigmoid.io/signIn\", {\n      email,\n      password,\n      rememberMe\n    }).then(response => {\n      dispatch({\n        type: SET_USER,\n        data: response.data\n      });\n\n      if (rememberMe) {\n        localStorage.setItem(\"access_token\", response.data.token);\n      } else {\n        sessionStorage.setItem(\"access_token\", response.data.token);\n      }\n\n      displaySuccess(\"Login Success\", \"success\");\n      navigate(\"/dashboard\");\n    }).catch(error => {\n      dispatch({\n        type: LOGIN_ERROR,\n        data: error.response.data.statusMessage\n      });\n      displayError(\"Wrong email or password\", \"danger\");\n    });\n  };\n};\n\n_s(loginUser, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});","map":{"version":3,"sources":["/home/rails/Desktop/sigmoid-assignment/src/Store/Action/UserAction.js"],"names":["axios","displayError","displaySuccess","LOGIN_ERROR","SET_USER","useNavigate","loginUser","email","password","rememberMe","navigate","dispatch","post","then","response","type","data","localStorage","setItem","token","sessionStorage","catch","error","statusMessage"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,cAAvB,QAA6C,cAA7C;AACA,SAASC,WAAT,EAAsBC,QAAtB,QAAsC,cAAtC;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,QAAR,EAAkBC,UAAlB,KAAiC;AAAA;;AACxD,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AACA,SAAQM,QAAD,IAAc;AACnBX,IAAAA,KAAK,CACFY,IADH,CACQ,uCADR,EACiD;AAC7CL,MAAAA,KAD6C;AAE7CC,MAAAA,QAF6C;AAG7CC,MAAAA;AAH6C,KADjD,EAMGI,IANH,CAMSC,QAAD,IAAc;AAClBH,MAAAA,QAAQ,CAAC;AAAEI,QAAAA,IAAI,EAAEX,QAAR;AAAkBY,QAAAA,IAAI,EAAEF,QAAQ,CAACE;AAAjC,OAAD,CAAR;;AACA,UAAIP,UAAJ,EAAgB;AACdQ,QAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCJ,QAAQ,CAACE,IAAT,CAAcG,KAAnD;AACD,OAFD,MAEO;AACLC,QAAAA,cAAc,CAACF,OAAf,CAAuB,cAAvB,EAAuCJ,QAAQ,CAACE,IAAT,CAAcG,KAArD;AACD;;AACDjB,MAAAA,cAAc,CAAC,eAAD,EAAkB,SAAlB,CAAd;AACAQ,MAAAA,QAAQ,CAAC,YAAD,CAAR;AACD,KAfH,EAgBGW,KAhBH,CAgBUC,KAAD,IAAW;AAChBX,MAAAA,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEZ,WADC;AAEPa,QAAAA,IAAI,EAAEM,KAAK,CAACR,QAAN,CAAeE,IAAf,CAAoBO;AAFnB,OAAD,CAAR;AAIAtB,MAAAA,YAAY,CAAC,yBAAD,EAA4B,QAA5B,CAAZ;AACD,KAtBH;AAuBD,GAxBD;AAyBD,CA3BM;;GAAMK,S;UACMD,W","sourcesContent":["import axios from \"axios\";\nimport { displayError, displaySuccess } from \"../../Helper\";\nimport { LOGIN_ERROR, SET_USER } from \"./ActionType\";\nimport { useNavigate } from \"react-router-dom\";\n\nexport const loginUser = (email, password, rememberMe) => {\n  const navigate = useNavigate();\n  return (dispatch) => {\n    axios\n      .post(\"https://sigviewauth.sigmoid.io/signIn\", {\n        email,\n        password,\n        rememberMe,\n      })\n      .then((response) => {\n        dispatch({ type: SET_USER, data: response.data });\n        if (rememberMe) {\n          localStorage.setItem(\"access_token\", response.data.token);\n        } else {\n          sessionStorage.setItem(\"access_token\", response.data.token);\n        }\n        displaySuccess(\"Login Success\", \"success\");\n        navigate(\"/dashboard\");\n      })\n      .catch((error) => {\n        dispatch({\n          type: LOGIN_ERROR,\n          data: error.response.data.statusMessage,\n        });\n        displayError(\"Wrong email or password\", \"danger\");\n      });\n  };\n};\n"]},"metadata":{},"sourceType":"module"}